<!DOCTYPE html>
<html>
 <head>
  <title>GraphEditor</title>
  <meta name="viewport" content="width=device-width,height=device-height,user-scalable=no">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <script type="text/javascript" src="###REPLACE###lib/helpers.js"></script>
  <script type="text/javascript" src="###REPLACE###lib/vars.js"></script>
  <script type="text/javascript" src="###REPLACE###lib/CDebugger.js"></script>
  <script type="text/javascript" src="###REPLACE###lib/CRenderEngine.js"></script>
  <script type="text/javascript" src="###REPLACE###lib/CKeyListener.js"></script>
  <script type="text/javascript" src="###REPLACE###lib/CWebUI.js"></script>
  
  <link rel="stylesheet" href="###REPLACE###lib/codemirror-5.13.2/lib/codemirror.css">
  <link rel="stylesheet" href="###REPLACE###lib/codemirror-5.13.2/theme/lesser-dark.css">
  <script src="###REPLACE###lib/codemirror-5.13.2/lib/codemirror.js"></script>
  <script src="###REPLACE###lib/codemirror-5.13.2/mode/python/python.js"></script>
  <link id="pagestyle" rel="stylesheet" type="text/css" href="###REPLACE###light.css">
  
  <script type="text/javascript">
    function swapTheme(theme){
	    document.getElementById('pagestyle').setAttribute('href', "###REPLACE###" + theme + ".css");
        WebUI.setTheme(theme);
        localStorage.theme = theme;
    }
    function initialize() {
        if (localStorage.graph) {
            WebUI.start(false, 'graphview', localStorage.graph);
        } else {
            WebUI.start(false, 'graphview', 'Default');
        }
        if (localStorage.theme) {
            swapTheme(localStorage.theme);
        }
    }
    function toggleDev() {
        if (localStorage.devmode == "true") {
            localStorage.devmode = "false";
        } else {
            localStorage.devmode = "true";
        }
    }
  </script>
 </head>
 <!-- Use the Script inside the body onload to create the webui -->
 <body onload="window.setTimeout(initialize, 1000);" onresize="">
     <div id="graphview" class="graphview"></div>
     <div id="rightside" class="rightSide">
        <a class="buttonlight" onclick="swapTheme('light')">Switch Theme (Light)</a>
        <a class="buttondark" onclick="swapTheme('dark')">Switch Theme (Dark)</a>
        <a class="buttondev newnode" onclick="toggleDev()">Toggle Dev. Mode</a>
        <div id="startup" class="tab">
            <h2>Startup</h2>
            <p>Server: <input class='hinput' id='debug_server' value='localhost:8088' /></p>
            <button id="deploybtn" class='button inputnode right' style="display:none" onclick='WebUI.startDebug()'>DEPLOY</button>
            <button id="startbtn" class='button algorithmnode right' onclick='WebUI.startDebug()'>DEBUG</button>
            <button id="restartbtn" class='button algorithmnode right' style="display:none" onclick='WebUI.restartDebug()'>RESTART</button>
            <button id="killbtn" class='button outputnode right' style="display:none" onclick='WebUI.killDebug()'>KILL</button>
        </div>
         <div id="info" class="tab">
            <h2>Info</h2>
            <div id="infocontent" class="info">
                Click/Tap on a node to show info about it.
            </div>
         </div>
         <div id="debug" class="tab">
            <h2>Debug</h2>
            <div id="debugcontent" class="debug">
                Run graph to get debug output.
            </div>
         </div>
     </div>
     <div id="nodeselector" style="display:none" class="overlay" onclick="WebUI.hideNodeSelector()">
        <div id="innernodeselector" class="inneroverlay" onclick="event.cancelBubble=true;">
         <!-- Nodes that can be created -->
        </div>
     </div>
     <div id="graphselector" style="display:none" class="overlay" onclick="WebUI.hideGraphSelector()">
        <div id="innergraphselector" class="inneroverlay" onclick="event.cancelBubble=true;">
         <!-- Nodes that can be created -->
        </div>
     </div>
     <div id="codeeditor" style="display:none" class="overlay">
        <div id="innercodeeditor" class="inneroverlay" onclick="event.cancelBubble=true;">
         <!-- Nodes that can be created -->
        </div>
     </div>
     <div id="prompt" style="display:none" class="overlay" onclick="WebUI.cancelPrompt()">
        <div id="innerprompt" class="inneroverlay" onclick="event.cancelBubble=true;">
         <!-- Nodes that can be created -->
        </div>
     </div>
     <div id="languageselector" style="display:none" class="overlay" onclick="WebUI.hideLanguageSelector()">
        <div id="innerlanguageselector" class="inneroverlay" onclick="event.cancelBubble=true;">
         <h2>Select A Language</h2>
         <button class="node languagenode" onclick="WebUI.changeLanguage('Python')">PYTHON</button>
         <button class="node languagenode" onclick="WebUI.changeLanguage('Lua')">[WIP] LUA</button>
         <button class="node languagenode" onclick="WebUI.changeLanguage('Java')">[TODO] JAVA</button>
         <button class="node languagenode" onclick="WebUI.changeLanguage('Csharp')">[TODO] C SHARP</button>
         <button class="node languagenode" onclick="WebUI.changeLanguage('Cpp')">[TODO] C++</button>
        </div>
     </div>
     <div id="erroroverlay" style="display:none" class="overlay" onclick="WebUI.hideErrorOverlay()">
        <div id="innererroroverlay" class="inneroverlay" onclick="event.cancelBubble=true;">
            An error occured.
        </div>
     </div>
 </body>
</html>
